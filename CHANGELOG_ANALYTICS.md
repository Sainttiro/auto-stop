# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## üìä –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `main.py`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `OperationsFetcher`, `OperationsCache`, `StatisticsCalculator`, `ReportFormatter`
- ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ `TelegramBot`

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Telegram –±–æ—Ç–∞ (`bot.py`):

#### –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

**`/stats [–ø–µ—Ä–∏–æ–¥] [–≥–æ–¥]`** - –¢–æ—Ä–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - `–ø–µ—Ä–∏–æ–¥`: month, week, day (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: month)
  - `–≥–æ–¥`: 2024, 2025 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–∏–π)
- –ü—Ä–∏–º–µ—Ä—ã:
  - `/stats` - –º–µ—Å—è—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –≥–æ–¥
  - `/stats week` - –Ω–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –≥–æ–¥
  - `/stats month 2024` - –º–µ—Å—è—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ 2024 –≥–æ–¥
  - `/stats day 2025` - –ø–æ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ 2025 –≥–æ–¥

**`/stats_instrument <ticker> [–ø–µ—Ä–∏–æ–¥]`** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - `ticker`: —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  - `–ø–µ—Ä–∏–æ–¥`: month, week, day (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: month)
- –ü—Ä–∏–º–µ—Ä—ã:
  - `/stats_instrument SBER`
  - `/stats_instrument GAZP week`
  - `/stats_instrument YNDX month`

#### –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/help`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

#### –£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π:
- ‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ –≤—á–µ—Ä–∞ ‚Üí –∫—ç—à –≤ –ë–î
- ‚úÖ –°–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å ‚Üí –≤—Å–µ–≥–¥–∞ –∏–∑ API
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –¥–Ω–µ–π
- ‚úÖ –ù–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å ‚Üí –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≤—á–µ—Ä–∞—à–Ω–∏–π

#### –ú–µ—Ç—Ä–∏–∫–∏:
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ (–ø–æ–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂–∏)
- ‚úÖ –û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ (‚ÇΩ)
- ‚úÖ –ö–æ–º–∏—Å—Å–∏–∏ (‚ÇΩ)
- ‚úÖ –ü—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫ (‚ÇΩ)
- ‚úÖ ROI (%)
- ‚úÖ –í–∏–Ω—Ä–µ–π—Ç (% –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫)
- ‚úÖ –¢–æ–ø-10 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ –ø—Ä–∏–±—ã–ª–∏

#### –ü–µ—Ä–∏–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞:
- ‚úÖ –ú–µ—Å—è—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ù–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ü–æ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –Ω–∞—á–∞–ª–æ (2024, 2025, etc.)

### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ –ú–æ–¥–µ–ª—å `OperationCache` —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ `models.py`
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ `Base.metadata.create_all`

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –ü—Ä–∏–º–µ—Ä 1: –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```
/stats
```
–ü–æ–∫–∞–∂–µ—Ç –º–µ—Å—è—á–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ —Ç–µ–∫—É—â–∏–π –≥–æ–¥

### –ü—Ä–∏–º–µ—Ä 2: –ù–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ 2024
```
/stats week 2024
```

### –ü—Ä–∏–º–µ—Ä 3: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
```
/stats_instrument SBER
```

### –ü—Ä–∏–º–µ—Ä 4: –ù–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
```
/stats_instrument GAZP week
```

## üì¶ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. `src/main.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
2. `src/bot/bot.py` - –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã `/stats` –∏ `/stats_instrument`
3. `src/analytics/reports.py` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `format_instrument_report`

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–ú–æ–¥—É–ª—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã `/stats` –∏ `/stats_instrument`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
4. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤
